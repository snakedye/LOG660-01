@startuml class diagram

title Diagramme de classe
hide empty members

' Classe principale Utilisateur 
class Utilisateur {
  - nom: String
  - courriel: String
  - numéro_téléphone: String
  - adresse_domicile: String
  - date_naissance: Date
  - mot_de_passe: String
  - forfait: Forfait
  - carte_de_crédit: CarteDeCrédit
}

' Carte de Crédit
class CarteDeCrédit {
  - type: String <<enum>> {VISA, MasterCard, Amex}
  - numéro: String
  - date_expiration: Date
  - cvv: String
}

' Forfait
class Forfait {
  - coût: double
  - locations_max: int
  - durée_max: int
}

' Location
class Location {
  - date_debut: Date
  - date_fin: Date
  - date_retour: Date
  - copie: Copie
}

' Film
class Film {
  - titre: String
  - année_sortie: int
  - pays_production: String
  - langue: String
  - durée: int
  - genres: String[]
  - résumé: String
  - affiche: String
  - liens: String[]
}

' Réalisateur hérite de Personne
class Réalisateur {
  - films: Film[]
}

' Scénariste hérite de Personne
class Scénariste {
  - films: Film[]
}

' Acteur hérite de Personne
class Acteur {
  - rôles: Rôle[]
}

' Rôle
class Rôle {
  - nom: String
  - description: String
  - film: Film
}

' Personne (classe parent abstraite)
abstract class Personne {
  - nom: String
  - date_naissance: Date
  - lieu_naissance: String
  - photo: String
  - biographie: String
}

' Classe Copie pour les copies de films
class Copie {
  - disponible: Boolean
  - film: Film
}

' Associations
Utilisateur "1" -- "1" CarteDeCrédit : possède
Utilisateur "1" -- "1" Forfait : souscrit à
Utilisateur "1" -- "0..*" Location : loue
Location "1" -- "1" Copie : utilise
Film "1" -- "0..*" Réalisateur : réalisé par
Film "1" -- "0..*" Acteur : inclut
Film "1" -- "0..*" Scénariste : écrit par
Film "1" -- "0..*" Copie : a_des_copies
Acteur "1" -- "0..*" Rôle : joue dans

' Contraintes de spécialisation
Personne <|-- Réalisateur : {complete}
Personne <|-- Acteur : {incomplete}
Personne <|-- Scénariste : {incomplete}

@enduml
